       Утилита sdba предназначена для управления базой данных подписчиков
mail-news сервера. Формат вызова:

       sdba command parameters

Утилита sdba понимает такие команды:

help - команда не содержит параметров, выводит краткую справку.

create - команда создания новой пустой базы данных. Нужна бывает
	 крайне редко.

passwd - команда замены пароля доступа к базе для её изменения. Команда
         есть только в том случае, если сервер компилировался с define
         PASSWD_PROTECTED в dbsubs.h.

version - выдаёт номер версии сервера. 

release - удаляет стоп-файл в каталоге заданий сервера и позволяет запустить
          скопившиеся задания на выполнение.

addgroup group_name [flags] - эта команда добавляет news-группу в список
	 известных mail-news-у групп. Этот список абсолютно отдельный от
	 системы CNews и создание группы в CNews не приводит автоматически
	 к открытию новой группы у сервера. Параметр group_name задает имя
	 создаваемой группы. Необязательный параметр flags может содержать
	 набор флагов для создаваемой группы. Сервером поддерживаются следующие
	 флаги:

	       R - Если этот флаг установлен, то в эту группу
		   нельзя помещать статьи через mail-news сервер.
	       S - Если установлен этот флаг, то на группу нельзя
		   подписаться через сервер. Подписать на такую группу
		   абонента может только администратор узла с помощью
		   данной утилиты (см. ниже).
	       U - Если установлен этот флаг, то от этой группы нельзя
		   отписаться запросом на сервер. Этот флаг может быть
		   полезен для какой-нибудь группы с официальными сообщениями
		   подписка на которую обязательна для всех абонентов узла.
		   Администратор при помощи данной утилиты может отписать
		   абонента от такой группы.
	       C - Флаг аналогичен флагам S и U, но означает невозможность
		   изменить режим подписки на группу.
	       O - Если у группы установлен этот флаг, то  писать в нее
		   статьи, заказывать статьи и INDEX-ы из этой группы
		   может только подписчик. Флаг весьма полезен в комбинации
		   с флагом S для закрытых групп.
	       M - Флаг означающий коммерческий статус группы. Основное
		   назначение этого флага недопускать кросспотинга статей
		   в коммерческую и не коммерческую группу одновременно.
               X - Флаг запрета кросспостинга. Если этот флаг установлен
                   то статья может идти только в одну эту группу, без
                   кросспост-листа. Статьи с кроспостингом будут отвергаться
                   сервером.
               N - Флаг указывающий на NNTP статус группы. Если задаётся
                   этот флаг обязательно присутствие имени хоста, с которого
                   эта группа будет браться. Имя хоста должно идти после
                   флагов, т.е. последним параметром.
	       A - Флаг возможный только для NNTP групп. Он указывает,
                   что эту группу надо брать даже тогда, когда на нее
                   никто не подписан.

	 Флаги могут указываться в любых комбинациях. Буквы должны быть
	 обязательно большими.
	 Примеры:

	       sdba addgroup ukr.commerce.misc M

	       sdba addgroup uanet.general SO

	       sdba addgroup ukr.gc.normativ R

               sdba addgroup comp.sources.misc NA uunet.uu.net

rmgroup group_name - команда удаления группы из сервера. По этой команде
	 подписка всех абонентов на группу отменяется, а сама группа удаляется
	 из списка известных серверу групп. В качестве group_name может быть
         указан шаблон для удаления сразу нескольких групп, или целой иерархии.

setflag group_name|pattern flags - команда для переустановки флагов для
	группы. В этой команде можно задавать как полное имя группы, так
	и шаблон в UNIX-SHELL стиле. Задавать флаги можно в комбинации с +/-
	что означает добавление или удаление соответсвующего флага, либо
	просто буквами, что означает установку указанных и сброс остальных
	флагов. Буквы обозначающие флаги такие же как и в команде addgroup.
	Если устанавливается флаг N он должен быть единственным и после него
	должно идти имя хоста. Вы можете установить любые флаги для NNTP
	группы, но не вместе с N, а двумя командами.

	 Примеры:
	       sdba setflag ukr.commerce.* +M

	       sdba setflag uanet.general SO

	       sdba setflag ukr.gc.normativ +R-M

               sdba setflag comp.sources.misc N uunet.uu.net

sethost group_name host - изменение имени хоста, с которого будет получаться
        группа. Как group_name могут задаваться шаблоны. 
        
         Примеры:
               sdba sethost comp.* !comp.sources.* uunet.uu.net
               
               sdba sethost alt.* !alt.sources.* !alt.sex* 193.124.67.113

check group group_addr|pattern - команда контроля. Распечатывает список
	подписчиков и установленные флаги для указанных(ной) групп(ы).
	В одной строке можно указывать несколько шаблонов. Перед шабло-
	ном можно поставить знак '!' что означает исключение групп, сов-
	падающих с этим шаблоном.

	 Примеры:
	       sdba check group ukr.commerce.*

	       sdba check group ukr.gc.normativ

	       sdba check group all

	       sdba check group all !relcom.*

	       sdba check group need !relcom.* !ukr.*

	       sdba check group relcom.* !relcom.commerce.*

	       sdba check group relcom.* ukr.* alt.*

check group need - команда выводит просто список групп, на которые кто-л.
	подписан. Комманда полезна для формирования запросов к chsys.

check group null - выводится список групп, на которые никто не подписан.

check user user_addr - выдает справку аналогичную той, которую пользователь
	получает по запросу CHECK от сервера. Доплнительной возможностью
	является возможность получения справки по всем пользователям.

	 Примеры:
	       sdba check user stas@uanet.kharkov.ua

	       sdba check user all

check domain domain_addr - выдает справку аналогичную команде check user
	для всех абонентов этого домена. Если указанный домен имеет под-
	домены, их пользовытели так-же будут выведены.

	 Примеры:
	       sdba check domain uanet.kharkov.ua

	       sdba check domain kiev.ua

	       sdba check domain su

check domain empty - выдать список доменов на которых нет ни одного под-
        писчика. Команда предназначена для выявления и удаления мертвых
        доменов.
        
adddomain domain_addr - добавить пустой домен в базу. Команда имеет смысл
        только с опцией компиляции UNKNOWN_DENIED и без этой опции не ком-
        пилируется. Когда эта опция присутствует эта команда предназначена
        для добавления домена в базу, чтобы пользователи с этого домена могли
        подписаться на сервере.

check site site_name - справка аналогичная check domain, но для идентификации
        используется самая левая часть доменного имени, например для адресов
        user@tut.tam.kharkov.ua и man@tut.kharkov.ua это будет tut.

check active [-d] [-m] [-y] [groups] - сверить список групп сервера с файлом 
	active Cnews. По умолчанию функция просто печатает несовпадения. 
	Если задан ключ -d утилита удалит все группы имеющиеся в сервере и 
	не найденые в файле active. Ключ -m задает режим создания групп 
	имеющихся в файле active, но отсутствующие в сервере. По умолчанию 
	на каждое создание или удаление группы выводится запрос. Ключ -y 
	позволяет ответить Yes на все запросы. Шаблон для групп groups
	задается также, как и для команды check group.

check age - Проверка "старения" подписки и удаление "устаревших" записей.
        Команда возможны только если сервер компиоировался с AGE_TIME > 0.
        
check base - Проверка целосности базы. Завершение check base с 0 кодом
        гарантирует отсутствие каких-либо повреждений базы. Если с базой
        что-л. произошло востановите её с копии - утилиты для ремонта
        повреждённой базы нет.

lang user_addr lang - установить язык диагностических сообщений от сервера.
	Действие команды аналогично запросу LANG к серверу.

limit user_addr size - установить максимальный размер списка статей,
	рассылаемых по подписке в режиме subscribe.

aging user_addr on|off - команда аналогичная соответствующей команде сервера.
        Предназначены для включения/выключения старения подписки.

rmdomain domain_addr - отписать и удалить всех пользователей данного домена.
	Правила идентификации домена такие же как и в предидущей команде.

rmuser user_addr - отписать пользователя от всего и удалить его из базы.

subscribe user_addr group_name  |
efeed user_addr group_name      |
feed user_addr group_name       |- подписать пользователя на группу в указанном
rfeed size user_addr group_name |  режиме. Флажок о запрете подписки не
	проверяется. Таким образом можно подписать пользователя на закрытую
	группу. Если такого пользователя еще нет, он будет внесен в базу.
	В качестве group_name можно испльзовать шаблоны в UNIX стиле.

unsubscribe user_addr group_name|all - отписать пользователя от группы.
	Если вместо имени группы указать all, то пользователь будет отписан
	от всего, но из базы удален не будет.

suspend user_addr
resume user_addr - пара команд аналогичных соответствующтм запросам к серверу.
	Предназначены для сохранения подписки пользователя, но приостановки
	рассылки статей и списков по этой подписке.

disable domain_addr
enable domain_addr - пара команд аналогичных по своему действию suspend/resume
        но действующие на весь домен, а также не снимаемые запросом по почте.
        В случае если домен блокирован командой disable завести нового пользо-
        вателя в этом домене также невозможно.
